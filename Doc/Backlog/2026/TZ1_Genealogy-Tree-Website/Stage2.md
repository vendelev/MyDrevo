# Stage 2 — Просмотр дерева (MVP)

## 1. Название этапа и его краткое описание

**Этап 2:** дать пользователю возможность увидеть данные своего дерева: список персон и их связи.

На этом этапе важен «первый полезный экран»: пользователь открывает сайт и видит, что данные о родственниках существуют и связаны между собой.

## 2. Цель этапа

- Реализовать просмотр персон и связей в рамках одного дерева пользователя.
- Подготовить основу для дальнейшего редактирования (этап 3) и управления связями (этап 4).

## 3. Функциональные требования

- **Авторизация** вводится в **Stage 6**. Сейчас все данные доступны без авторизации.

- Дерево пользователя включает **персоны** и **связи**, принадлежащие пользователю (данные фильтруются по `user_id`).

- **Формат UI:** Blade-страницы (Laravel `web`), без SPA.
  - Минимальные маршруты (MVP):
    - `GET /persons` — список персон.
    - `GET /persons/{person}` — карточка персоны.
    - `GET /relationships` — список связей.

- Система должна предоставлять страницу/раздел «Персоны», где отображается список персон пользователя.
  - Минимальный набор полей в списке персон (MVP): `id`, `name`, `birth_date`.

- Система должна позволять открыть карточку персоны и увидеть:
  - основные данные;
  - список связанных персон, **сгруппированный по типам связей**:
    - **Родители**
    - **Дети**
    - **Супруги**
    - (если появятся другие типы — отдельной группой)
    - Минимальный набор полей в списке связей (MVP): `id`, `person1_id`, `person2_id`, `type`.

## 4. Нефункциональные требования

- Страницы должны открываться быстро на объеме до нескольких сотен персон.
- Тексты и названия разделов должны быть понятны нетехническому пользователю.

## 5. Сценарии использования

1. **Пользователь заходит на сайт и открывает список персон**
   - Видит список родственников.
   - Может открыть карточку конкретного человека.
   - Видит, кто с кем связан и каким образом.

2. **Стейкхолдер оценивает прогресс**
   - Открывает сайт.
   - Видит, что данные дерева отображаются и навигация работает.

## 6. Критерии приемки

- Есть раздел/страница со списком персон.
- Есть карточка персоны с отображением связанных персон.
- Есть навигация между страницами (меню и/или ссылки между разделами «Персоны» / карточка персоны).
- Данные доступны только после входа.

## 7. Зависимости

- Этап 1: готовая схема БД и тестовые данные.

## 8. Оценка трудозатрат

- **Оценка:** 2–4 дня.
- **Основные факторы:** выбор формата UI (простые страницы или API + шаблоны), выбор минимального набора полей для отображения.
