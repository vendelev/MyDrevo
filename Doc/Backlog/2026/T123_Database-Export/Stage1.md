# Этап 1. MVP экспорта данных — запуск и скачивание файла

## 1. Название этапа и его краткое описание

Пользователь получает базовую возможность инициировать экспорт и скачать файл с данными, доступными ему в системе. Этап ориентирован на простоту и быстрый результат без сложной очереди и истории экспортов.

## 2. Цель этапа

Дать пользователю понятный и работающий способ «выгрузить мои данные» в одном поддерживаемом формате.

## 3. Функциональные требования

1. Пользователь может инициировать экспорт из интерфейса приложения (например, в личном кабинете/на странице профиля).
2. После запуска пользователь получает файл экспорта для скачивания (в рамках одного действия).
3. Экспорт содержит только данные, доступные текущему пользователю.
4. Экспорт формируется в одном формате (для MVP): **JSON**.
5. Состав данных для MVP:
   - данные учетной записи пользователя (минимально необходимые поля, без секретов);
   - данные домена «генеалогическое древо», принадлежащие пользователю (профили членов семьи, связи/отношения, заметки/описания, если они есть);
   - медиа: **только метаданные** (например, имя, тип, дата загрузки), без бинарных файлов (чтобы MVP был быстрым и безопасным).
6. Если экспорт невозможно сформировать, пользователю показывается понятное сообщение об ошибке.

## 4. Нефункциональные требования

- **Безопасность**: выгрузка возможна только для авторизованного пользователя; файл не должен содержать секреты (пароли, токены, технические ключи).
- **Понятность**: пользователь понимает, где запустить экспорт и что он получит.
- **Надежность**: при типовых ошибках (например, временная недоступность хранилища) пользователь получает корректную ошибку.

## 5. Сценарии использования

1. **Пользователь скачивает экспорт**
   - Пользователь открывает страницу профиля/кабинета.
   - Нажимает «Экспортировать данные».
   - Система формирует JSON-файл и предлагает скачать.

2. **Экспорт недоступен из-за ошибки**
   - Пользователь нажимает «Экспортировать данные».
   - Возникает ошибка формирования.
   - Система показывает сообщение «Экспорт не удалось сформировать. Попробуйте позже».

## 6. Критерии приемки

1. Авторизованный пользователь видит действие «Экспортировать данные».
2. Нажатие на действие приводит к скачиванию файла в формате JSON.
3. В файле отсутствуют чужие данные и отсутствуют секреты (пароли/токены).
4. Минимальный состав данных соответствует требованиям раздела 3.
5. При искусственно вызванной ошибке пользователь получает понятное сообщение, без технических деталей.

## 7. Зависимости

- Аутентификация пользователя и доступ к его данным (минимум — базовая авторизация).
- Возможность формировать файл и отдавать его пользователю безопасным способом.

## 8. Оценка трудозатрат

6–10 часов
