# Технический план реализации: Этап 1 - Подготовка базы данных

## Общие архитектурные принципы
- **Clean Architecture:** Разделение на слои (Domain, Application, Infrastructure, Presentation).
- **CQRS:** Разделение команд (изменения состояния) и запросов (чтение данных).
- **Модульный монолит:** Функциональность организована в модули (FamilyMember, Relationship).
- **Laravel:** Использование фреймворка для инфраструктуры (миграции, роутинг, DI).

## Структура модулей
- **FamilyMember Module:** Управление профилями членов семьи.
- **Relationship Module:** Управление семейными связями.
- **Core Module:** Общие интерфейсы, базовые классы CQRS.

## Архитектурные решения
- Использовать Laravel миграции для изменения схемы.
- Добавить поля в существующие таблицы без нарушения данных.

## Последовательность действий
1. Создать миграцию для таблицы `gen_person`: добавить поля `gender`, `birth_place`, `death_place`, `created_at`, `updated_at`.
2. Создать миграцию для таблицы `gen_relation`: добавить поле `metadata` (JSON).
3. Запустить миграции и проверить структуру БД.

## Модели предметной области
- Нет новых моделей на этом этапе.

## Изменяемые файлы
- `backend/database/migrations/` (новые миграции)

## Общие рекомендации
- Каждый этап тестировать unit и integration тестами.
- Следовать PSR-4 для автозагрузки.
- Использовать Laravel's service container для DI.
- Документировать код PHPDoc.