# Эпик: Калькулятор валют (FD-100)

## Название эпика и краткое описание

Реализация системы конвертации валют в режиме реального времени для расчета стоимости товаров в разных валютах.

## Бизнес-цель и ценность

**Проблема**: Пользователи не могут быстро узнать стоимость товаров в своей валюте, что снижает конверсию продаж на 
международных рынках.

**Цель**: Предоставить удобный инструмент конвертации валют с актуальными курсами, что увеличит конверсию на 15% и 
улучшит пользовательский опыт.

**Ценность для бизнеса**:

- Увеличение конверсии продаж на 15%
- Снижение количества обращений в поддержку по вопросам цен
- Расширение международной аудитории

## Основные заинтересованные стороны

**Внутренние**:

- Product Owner: Иван Петров
- Отдел продаж: заинтересованы в увеличении конверсии
- Техническая команда: ответственны за реализацию

**Внешние**:

- Покупатели из разных стран
- Партнеры, работающие в разных валютах

## Функциональные требования

1. Конвертация суммы из одной валюты в другую
2. Отображение актуальных курсов валют
3. Поддержка основных валют (USD, EUR, RUB, CNY, GBP, JPY)
4. Кеширование курсов для оптимизации производительности
5. Автоматическое обновление курсов каждые 4 часа
6. История конвертаций пользователя
7. Быстрый доступ к часто используемым валютным парам

## Нефункциональные требования

**Производительность**:

- Время ответа на запрос конвертации: < 200 мс
- Поддержка до 1000 одновременных запросов

**Безопасность**:

- Защита API ключей внешнего сервиса
- Валидация входных данных
- Rate limiting для предотвращения злоупотреблений

**Usability**:

- Интуитивный интерфейс конвертера
- Отображение даты и времени последнего обновления курса
- Автоматическое определение валюты пользователя по геолокации

**Надежность**:

- Fallback механизм при недоступности внешнего API
- Логирование всех операций конвертации

## Критерии успеха

1. Конверсия продаж увеличилась на 15% в течение 3 месяцев после запуска
2. Количество обращений в поддержку по вопросам цен снизилось на 40%
3. 80% пользователей используют калькулятор хотя бы раз за сессию
4. Время ответа системы < 200 мс в 95% случаев
5. Доступность сервиса 99.5%

## Риски и ограничения

**Риски**:

1. **Зависимость от внешнего API**: Провайдер курсов может быть недоступен
   - Митигация: Реализовать fallback на альтернативный источник
2. **Неточность курсов**: Разница между курсами в системе и реальными может вызвать недовольство
   - Митигация: Отображать disclaimer о справочном характере курсов
3. **Нагрузка на систему**: Частые запросы могут перегрузить API
   - Митигация: Кеширование и rate limiting

**Ограничения**:

- Курсы обновляются каждые 4 часа (не real-time)
- Поддержка только основных валют (6 валют в первой версии)
- Нет поддержки криптовалют в рамках текущего эпика

## Зависимости

**Технические**:

- Внешний API для получения курсов валют (например, exchangerate-api.com)
- Модуль кеширования (Redis)
- Система авторизации (для истории конвертаций)

**Бизнес-зависимости**:

- Заключение договора с провайдером курсов валют
- Согласование лимитов API запросов

## Этапы реализации

### [Этап 1: Базовая конвертация валют](Stage1.md)

**Приоритет**: ВЫСОКИЙ
**Срок**: 2 недели
**Ценность**: MVP функционал, позволяющий начать тестирование с пользователями

### [Этап 2: Кеширование и оптимизация](Stage2.md)

**Приоритет**: ВЫСОКИЙ
**Срок**: 1 неделя
**Ценность**: Повышение производительности и снижение нагрузки на внешний API

### [Этап 3: История конвертаций](Stage3.md)

**Приоритет**: СРЕДНИЙ
**Срок**: 1 неделя
**Ценность**: Улучшение UX для постоянных пользователей
